{"version":3,"sources":["../src/addMaterial.js"],"names":["utils","apis","onSubmit","nameIndex","scope","materialNames","indexOf","materialForm","material","name","alert","addMaterial","successCallBack","failCallBack","e","preprocess","description","description2","unit","func","submitBtnText","formTitle","showMaterialForm","showLargeModal"],"mappings":";;;;;;;;AAAYA,W;;AACAC,U;;;AAENC,c,GAAW,SAAXA,QAAW;AAAA,eAAS,YAAM;AAC9B;AACA;AACA,cAAMC,YAAYC,MAAMC,aAAN,CAAoBC,OAApB,CAA4BF,MAAMG,YAAN,CAAmBC,QAAnB,CAA4BC,IAAxD,CAAlB;AACA,cAAIN,cAAc,CAAC,CAAnB,EAAsB;AACpBH,kBAAMU,KAAN,CAAY,SAAZ,EAAuB,WAAvB,EAAoC,gDAApC;AACA;AACA;;AAEFT,eAAKU,WAAL,CACEP,MAAMG,YAAN,CAAmBC,QADrB,EAEER,MAAMY,eAAN,CAAsB,6BAAtB,EAAqD,0CAArD,EAAiGR,KAAjG,CAFF,EAGE;AAAA,mBAAKJ,MAAMa,YAAN,CAAmB,6BAAnB,0DAAwGC,CAAxG,wBAAL;AAAA,WAHF;AAKD,SAdgB;AAAA,O;;AAgBXC,gB,GAAa,SAAbA,UAAa,QAAS;AAC1BX,cAAMG,YAAN,GAAqB;AACnBC,oBAAU;AACRC,kBAAO,EADC;AAERO,yBAAa,EAFL;AAGRC,0BAAc,EAHN;AAIRC,kBAAM;AAJE,WADS;AAOnBC,gBAAM;AACJjB,sBAAUA,SAASE,KAAT;AADN,WAPa;AAUnBgB,yBAAe,QAVI;AAWnBC,qBAAW;AAXQ,SAArB;AAaD,O;;kCAEYC,gB,GAAmB,SAAnBA,gBAAmB,QAAS;AACvCP,mBAAWX,KAAX;AACAJ,cAAMuB,cAAN,CAAqB,oBAArB,EAA2CnB,KAA3C;AACD,O","file":"addMaterial.js","sourcesContent":["import * as utils from './utils'\r\nimport * as apis from './apis'\r\n\r\nconst onSubmit = scope => () => {\r\n  // check name here, if match any name that exists, stop.\r\n  // we call it name, but for users, it's the ID\r\n  const nameIndex = scope.materialNames.indexOf(scope.materialForm.material.name)\r\n  if (nameIndex !== -1) { \r\n    utils.alert('warning', 'Id exists', 'The ID of the material you are creating exists')\r\n    return\r\n   }\r\n\r\n  apis.addMaterial(\r\n    scope.materialForm.material,\r\n    utils.successCallBack('mct-material-form-cancelBtn', 'Material has been submitted successfully', scope),\r\n    e => utils.failCallBack('mct-material-form-cancelBtn', `Error occurred when submitting the material due to ${e}, please try again`)\r\n  )\r\n}\r\n\r\nconst preprocess = scope => {\r\n  scope.materialForm = {\r\n    material: {\r\n      name : '',\r\n      description: '',\r\n      description2: '',\r\n      unit: ''\r\n    },\r\n    func: {\r\n      onSubmit: onSubmit(scope)\r\n    },\r\n    submitBtnText: 'Submit',\r\n    formTitle: 'Add Material'\r\n  }\r\n}\r\n\r\nexport const showMaterialForm = scope => {\r\n  preprocess(scope)\r\n  utils.showLargeModal('material_form.html', scope)\r\n}"]}