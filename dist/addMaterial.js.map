{"version":3,"sources":["../src/addMaterial.js"],"names":["utils","apis","onSubmit","nameIndex","scope","materialNames","indexOf","materialForm","material","name","alert","addMaterial","successCallBack","failCallBack","e","preprocess","description","description2","unit","func","submitBtnText","formTitle","showMaterialForm","showLargeModal"],"mappings":";;;;;;;;AAAYA,W;;AACAC,U;;;AAENC,c,GAAW,SAAXA,QAAW;AAAA,eAAS,YAAM;AAC9B;AACA;AACA,cAAMC,YAAYC,MAAMC,aAAN,CAAoBC,OAApB,CAA4BF,MAAMG,YAAN,CAAmBC,QAAnB,CAA4BC,IAAxD,CAAlB;AACA,cAAIN,cAAc,CAAC,CAAnB,EAAsB;AACpBH,kBAAMU,KAAN,CAAY,SAAZ,EAAuB,WAAvB,EAAoC,gDAApC;AACA;AACA;;AAEFT,eAAKU,WAAL,CACEP,MAAMG,YAAN,CAAmBC,QADrB,EAEER,MAAMY,eAAN,CAAsB,6BAAtB,EAAqD,0CAArD,EAAiGR,KAAjG,CAFF,EAGE;AAAA,mBAAKJ,MAAMa,YAAN,CAAmB,6BAAnB,0DAAwGC,CAAxG,wBAAL;AAAA,WAHF;AAKD,SAdgB;AAAA,O;;AAgBXC,gB,GAAa,SAAbA,UAAa,QAAS;AAC1BX,cAAMG,YAAN,GAAqB;AACnBC,oBAAU;AACRC,kBAAO,EADC;AAERO,yBAAa,EAFL;AAGRC,0BAAc,EAHN;AAIRC,kBAAM;AAJE,WADS;AAOnBC,gBAAM;AACJjB,sBAAUA,SAASE,KAAT;AADN,WAPa;AAUnBgB,yBAAe,QAVI;AAWnBC,qBAAW;AAXQ,SAArB;AAaD,O;;kCAEYC,gB,GAAmB,SAAnBA,gBAAmB,QAAS;AACvCP,mBAAWX,KAAX;AACAJ,cAAMuB,cAAN,CAAqB,oBAArB,EAA2CnB,KAA3C;AACD,O","file":"addMaterial.js","sourcesContent":["import * as utils from './utils'\nimport * as apis from './apis'\n\nconst onSubmit = scope => () => {\n  // check name here, if match any name that exists, stop.\n  // we call it name, but for users, it's the ID\n  const nameIndex = scope.materialNames.indexOf(scope.materialForm.material.name)\n  if (nameIndex !== -1) { \n    utils.alert('warning', 'Id exists', 'The ID of the material you are creating exists')\n    return\n   }\n\n  apis.addMaterial(\n    scope.materialForm.material,\n    utils.successCallBack('mct-material-form-cancelBtn', 'Material has been submitted successfully', scope),\n    e => utils.failCallBack('mct-material-form-cancelBtn', `Error occurred when submitting the material due to ${e}, please try again`)\n  )\n}\n\nconst preprocess = scope => {\n  scope.materialForm = {\n    material: {\n      name : '',\n      description: '',\n      description2: '',\n      unit: ''\n    },\n    func: {\n      onSubmit: onSubmit(scope)\n    },\n    submitBtnText: 'Submit',\n    formTitle: 'Add Material'\n  }\n}\n\nexport const showMaterialForm = scope => {\n  preprocess(scope)\n  utils.showLargeModal('material_form.html', scope)\n}"]}